package com.converter.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;

import com.converter.model.Currency;
import com.converter.model.Result;

@Controller
public class Currencycontroller {

	 final double dollar=77.67;
	 final double rubel=0.80;
	 final double pound=96.55;
	 
	 
	
	@RequestMapping("/home")
	public String goHome(Model m) {
		Currency c=new Currency();
		m.addAttribute("user", c);
		return "Homepage";
	}
	@RequestMapping("/convert")
	public String convert(@ModelAttribute("user") Currency c,Model m) {
		String name=c.getCurrencyname();
		System.out.println(name);
		System.out.println(c);
		double res = 0;
		if(name.equals("dollar"))
		{
			 res=c.getCurrency1()/dollar;
		}
		else if(name.equals("pound"))
		{
			 res=c.getCurrency1()/pound;
		}
		else if(name.equals("rubel"))
		{
			 res=c.getCurrency1()/dollar;
		}
		r.setResult(res);
		m.addAttribute("result", res);
		return "Homepage";
	}
	
}
