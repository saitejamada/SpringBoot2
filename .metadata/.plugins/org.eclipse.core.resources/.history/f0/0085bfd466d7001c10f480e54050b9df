package com.converter.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;

import com.converter.model.Currency;


@Controller
public class Currencycontroller {

	 final double dollar=77.67;
	 final double rubel=0.80;
	 final double pound=96.55;
	 final double newshekel=22.89;
	 
	
	@RequestMapping("/home")
	public String goHome(Model m) {
		Currency c=new Currency();
		m.addAttribute("user", c);
		return "Homepage";
	}
	@RequestMapping("/convert")
	public String convert(@ModelAttribute("user") Currency c,Model m) {
		String name=c.getCurrencyname();
		double res = 0;
		if(name.equals("dollar"))
		{
			 res=c.getCurrency1()/dollar;
		}
		else if(name.equals("pound"))
		{
			 res=c.getCurrency1()/pound;
		}
		else if(name.equals("rubel"))
		{
			 res=c.getCurrency1()/rubel;
		}
		else if(name.equals("newshekel"))
		{
			 res=c.getCurrency1()/newshekel;
		}
		String  s=String.valueOf(res);
		String s1=s.substring(0, 4);
		s1=s1.concat(name);
		m.addAttribute("result", s1);
		return "Homepage";
	}
	
}
